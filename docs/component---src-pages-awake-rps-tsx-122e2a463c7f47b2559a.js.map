{"version":3,"file":"component---src-pages-awake-rps-tsx-122e2a463c7f47b2559a.js","mappings":"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","sources":["webpack://tpcstld-site/./src/info-pages/PageWrapper.module.css","webpack://tpcstld-site/./src/info-pages/PageWrapper.tsx","webpack://tpcstld-site/./src/awake-rps/AwakeRpsPage.tsx","webpack://tpcstld-site/./src/awake-rps/AwakeRpsPage.module.css","webpack://tpcstld-site/./src/pages/awake-rps.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"outerContainer\":\"PageWrapper-module--outerContainer--zN1eq\",\"container\":\"PageWrapper-module--container--JDwBF\"};","import {ReactNode} from 'react';\n\nimport styles from './PageWrapper.module.css';\n\ninterface PageWrapperProps {\n  children: ReactNode;\n}\n\nexport default function PageWrapper({children}: PageWrapperProps) {\n  return (\n    <div className={styles.outerContainer}>\n      <div className={styles.container}>{children}</div>\n    </div>\n  );\n}\n","import {CSSProperties, useCallback, useState} from 'react';\nimport {Helmet} from 'react-helmet';\n\nimport PageWrapper from '../info-pages/PageWrapper';\n\nimport styles from './AwakeRpsPage.module.css';\n\nenum Choices {\n  ROCK = 'Rock',\n  PAPER = 'Paper',\n  SCISSORS = 'Scissors',\n}\n\nconst MAX_CHOICE = 3;\n\nfunction getProbabilityStyles(probability: number): string {\n  if (probability === 0) {\n    return '';\n  }\n\n  if (probability < 0) {\n    return styles.bad;\n  }\n\n  return styles.good;\n}\n\ntype ExpectedValue = {\n  ev: number;\n  lossChance: number;\n};\n\nfunction calculateExpectedValue(\n  currentChosen: number,\n  winnerChosen: number,\n  loserChosen: number,\n): ExpectedValue {\n  const winnerLeft = MAX_CHOICE - winnerChosen;\n  const currentLeft = MAX_CHOICE - currentChosen;\n  const loserLeft = MAX_CHOICE - loserChosen;\n\n  const totalLeft = winnerLeft + currentLeft + loserLeft;\n\n  return {\n    ev: (1 * winnerLeft + 0 * currentLeft + -1 * loserLeft) / totalLeft,\n    lossChance: loserLeft / totalLeft,\n  };\n}\n\ninterface PlaySelectorProps {\n  numItem: number;\n  setNumItem: (newNum: number) => void;\n  name: Choices;\n}\n\nfunction PlaySelector({numItem, setNumItem, name}: PlaySelectorProps) {\n  return (\n    <div className={styles.selectorItem}>\n      <button\n        className={styles.selectorButton}\n        onClick={() => setNumItem(numItem + 1)}\n        disabled={numItem === MAX_CHOICE}\n      >\n        <span className={styles.selectorButtonText}>{name}</span>\n      </button>\n      <div className={styles.selectorItemCount}>{numItem}</div>\n    </div>\n  );\n}\n\ninterface AnalysisSectionProps {\n  numRock: number;\n  numScissors: number;\n  numPaper: number;\n}\n\nfunction AnalysisSection({\n  numRock,\n  numPaper,\n  numScissors,\n}: AnalysisSectionProps) {\n  if (numRock === 0 && numPaper === 0 && numScissors === 0) {\n    return <span>Rock gang for life!</span>;\n  }\n\n  if (\n    numRock === MAX_CHOICE &&\n    numPaper === MAX_CHOICE &&\n    numScissors === MAX_CHOICE\n  ) {\n    return <span>Press reset for the new round!</span>;\n  }\n\n  const expectedValues = {\n    [Choices.ROCK]: calculateExpectedValue(numRock, numScissors, numPaper),\n    [Choices.PAPER]: calculateExpectedValue(numPaper, numRock, numScissors),\n    [Choices.SCISSORS]: calculateExpectedValue(numScissors, numPaper, numRock),\n  };\n\n  console.log(expectedValues);\n\n  const bestOption = Object.entries(expectedValues).sort(\n    ([_firstChoice, firstEv], [_secondChoice, secondEv]) => {\n      if (firstEv.ev === secondEv.ev) {\n        return 0;\n      }\n\n      return firstEv.ev > secondEv.ev ? -1 : 1;\n    },\n  )[0];\n\n  const bestChoice = bestOption[0];\n\n  return (\n    <table className={styles.table}>\n      <thead className={styles.tableHeader}>\n        <th className={styles.heading}>Choice</th>\n        <th className={styles.heading}>EV</th>\n        <th className={styles.heading}>Loss</th>\n      </thead>\n      {Object.entries(expectedValues).map(([choice, ev]) => (\n        <tr key={choice}>\n          <td\n            className={`${styles.choices} ${\n              bestChoice === choice ? styles.good : ''\n            }`}\n          >\n            {choice}\n          </td>\n          <td className={`${styles.numbers} ${getProbabilityStyles(ev.ev)}`}>\n            {ev.ev.toFixed(2)}\n          </td>\n          <td\n            className={`${styles.numbers} ${getProbabilityStyles(\n              -ev.lossChance,\n            )}`}\n          >\n            {ev.lossChance.toFixed(2)}\n          </td>\n        </tr>\n      ))}\n    </table>\n  );\n}\n\nexport default function AwakeRpsPage() {\n  const [numRock, setNumRock] = useState(0);\n  const [numPaper, setNumPaper] = useState(0);\n  const [numScissors, setNumScissors] = useState(0);\n\n  const handleReset = useCallback(() => {\n    setNumRock(0);\n    setNumPaper(0);\n    setNumScissors(0);\n  }, []);\n\n  return (\n    <PageWrapper>\n      <Helmet htmlAttributes={{lang: 'en'}}>\n        <title>Awake RPS Calculator</title>\n        <meta\n          name=\"description\"\n          content=\"MapleStory Awake Rock Paper Scissors calculator.\"\n        />\n      </Helmet>\n      <div className={styles.header}>\n        <h1>Awake RPS Calculator</h1>\n        <button className={styles.reset} onClick={handleReset}>\n          Reset\n        </button>\n      </div>\n      <div className={styles.selectorContainer}>\n        <PlaySelector\n          name={Choices.ROCK}\n          numItem={numRock}\n          setNumItem={setNumRock}\n        />\n        <PlaySelector\n          name={Choices.PAPER}\n          numItem={numPaper}\n          setNumItem={setNumPaper}\n        />\n        <PlaySelector\n          name={Choices.SCISSORS}\n          numItem={numScissors}\n          setNumItem={setNumScissors}\n        />\n      </div>\n      <div className={styles.dataContainer}>\n        <h2>Results</h2>\n        <AnalysisSection\n          numRock={numRock}\n          numPaper={numPaper}\n          numScissors={numScissors}\n        />\n      </div>\n    </PageWrapper>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"AwakeRpsPage-module--header--O5qnD\",\"reset\":\"AwakeRpsPage-module--reset--3PD0m\",\"selectorContainer\":\"AwakeRpsPage-module--selectorContainer--gIasp\",\"selectorItem\":\"AwakeRpsPage-module--selectorItem--2n8Qi\",\"selectorButton\":\"AwakeRpsPage-module--selectorButton--KNibW\",\"selectorButtonText\":\"AwakeRpsPage-module--selectorButtonText--zlNNm\",\"selectorItemCount\":\"AwakeRpsPage-module--selectorItemCount--NaT93\",\"table\":\"AwakeRpsPage-module--table--Zjh3p\",\"choices\":\"AwakeRpsPage-module--choices--uBHkV\",\"numbers\":\"AwakeRpsPage-module--numbers--LZuVp\",\"heading\":\"AwakeRpsPage-module--heading--wS6bZ\",\"good\":\"AwakeRpsPage-module--good--qaY+K\",\"bad\":\"AwakeRpsPage-module--bad--lQws9\"};","import AwakeRpsPage from '../awake-rps/AwakeRpsPage';\n\nexport default AwakeRpsPage;\n"],"names":["PageWrapper","children","_jsx","className","styles","Choices","getProbabilityStyles","probability","calculateExpectedValue","currentChosen","winnerChosen","loserChosen","winnerLeft","currentLeft","loserLeft","totalLeft","ev","lossChance","PlaySelector","numItem","setNumItem","name","_jsxs","onClick","disabled","AnalysisSection","numRock","numPaper","numScissors","expectedValues","ROCK","PAPER","SCISSORS","console","log","bestChoice","Object","entries","sort","firstEv","secondEv","map","choice","toFixed","useState","setNumRock","setNumPaper","setNumScissors","handleReset","useCallback","Helmet","htmlAttributes","lang","content"],"sourceRoot":""}